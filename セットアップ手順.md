# TAVI CT入力アプリ - セットアップ手順

## Node.jsのインストール（必須）

このアプリを実行するには、Node.jsが必要です。

### インストール方法

1. **Node.js公式サイトからダウンロード**
   - https://nodejs.org/ にアクセス
   - 推奨版（LTS版）をダウンロード
   - 例：`node-v20.x.x-x64.msi`（Windows 64bit版）

2. **インストーラーを実行**
   - ダウンロードした`.msi`ファイルをダブルクリック
   - インストールウィザードに従って進む
   - 「Add to PATH」オプションが選択されていることを確認（通常はデフォルトで選択されています）

3. **インストール確認**
   - PowerShellまたはコマンドプロンプトを**新しく開く**（重要：既に開いているウィンドウでは反映されません）
   - 以下のコマンドで確認：
     ```powershell
     node --version
     npm --version
     ```
   - バージョン番号が表示されれば成功です

### インストール後の手順

1. **プロジェクトディレクトリに移動**
   ```powershell
   cd "C:\Users\sqjyp\OneDrive\デスクトップ\management\tavi-ct-input"
   ```

2. **依存関係のインストール**
   ```powershell
   npm install
   ```
   - これには数分かかる場合があります
   - `node_modules`フォルダが作成されます

3. **開発サーバーの起動**
   ```powershell
   npm run dev
   ```
   - ブラウザで `http://localhost:3000` が自動的に開きます
   - 開かない場合は、手動でブラウザを開いてアクセスしてください

4. **アプリの使用**
   - フォームに入力
   - 設定画面でメール宛先を設定
   - 「Gmailで作成」ボタンでメール起動

## トラブルシューティング

### Node.jsがインストールされてもコマンドが認識されない場合

1. **PowerShellを再起動**
   - 既に開いているPowerShellウィンドウを閉じる
   - 新しいPowerShellウィンドウを開く

2. **環境変数PATHの確認**
   - Windowsの検索で「環境変数」と検索
   - 「環境変数を編集」を開く
   - システム環境変数の「Path」に以下が含まれているか確認：
     - `C:\Program Files\nodejs\`
     - またはインストールした場所

3. **再インストール**
   - Node.jsをアンインストール
   - 再インストール（「Add to PATH」を必ず選択）

### npm installでエラーが発生する場合

- インターネット接続を確認
- ファイアウォールやプロキシの設定を確認
- 管理者権限でPowerShellを開いて再試行

## 本番環境へのデプロイ

### ビルド

```powershell
npm run build
```

### 本番サーバーの起動

```powershell
npm start
```

### 静的エクスポート（オプション）

静的サイトとして配信する場合：

1. `next.config.mjs`を編集：
   ```javascript
   const nextConfig = {
     output: 'export',
   };
   ```

2. ビルド：
   ```powershell
   npm run build
   ```

3. `out`フォルダに静的ファイルが生成されます

## 参考リンク

- Node.js公式サイト: https://nodejs.org/
- Next.js公式ドキュメント: https://nextjs.org/docs
- npm公式サイト: https://www.npmjs.com/


