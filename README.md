# TAVI術前CT所見入力アプリ

TAVI術前CT所見のスマホ入力→メール起動を行うクライアント完結Webアプリです。

## 機能

- ブラウザでフォーム入力
- 「Gmailで作成」ボタンで件名・本文を差し込んだメール作成画面を起動
- iOS/Android両対応（GmailアプリURLスキーム→mailtoの順でフォールバック）
- PHIは端末内のみ（localStorageドラフト保存）
- 静的配信/PWA対応

## 技術スタック

- Next.js 14
- React 18
- TypeScript
- Tailwind CSS
- react-hook-form + zod（バリデーション）
- Zustand + localStorage（自動保存ON/OFF切替）

## セットアップ

```bash
# 依存関係のインストール
npm install

# 開発サーバーの起動
npm run dev

# ビルド
npm run build

# 本番サーバーの起動
npm start
```

## 使用方法

1. ブラウザでアプリを開く
2. フォームに必要な情報を入力
3. 「Gmailで作成」ボタンをクリック
4. Gmailアプリ（または既定のメーラー）が起動し、件名・本文が自動入力されます

## 設定

設定画面で以下を設定できます：

- メール宛先（複数可、カンマ区切り）
- 自動保存のON/OFF

## PWAアイコンの設定

PWAとして使用する場合は、以下のアイコンファイルを`public`ディレクトリに配置してください：

- `icon-192.png` (192x192ピクセル)
- `icon-512.png` (512x512ピクセル)

これらのファイルがない場合でも、アプリは動作しますが、ホーム画面に追加した際のアイコンが表示されません。

## 注意事項

- 入力データはローカルストレージに保存されます（自動保存が有効な場合）
- メール起動にはGmailアプリまたは既定のメーラーが必要です
- iOSではGmailアプリがインストールされていない場合、Apple Mailが起動します
- メール本文の改行はCRLF（\r\n）で生成されます

